{"ast":null,"code":"// This function `updateDocumentsWithId` updates all documents in the \"buildings\" collection of a Firestore database.\n// It adds an `id` field to each document, setting its value to the document's ID.\n// This is done using a batch operation for efficiency, which allows multiple updates to be committed at once.\nimport { db } from \"./firebase\";\nimport { collection, getDocs, writeBatch, doc } from \"firebase/firestore\";\nexport const updateDocumentsWithId = async () => {\n  const buildingsRef = collection(db, \"buildings\");\n  const snapshot = await getDocs(buildingsRef);\n  const batch = writeBatch(db); // Batch operation for efficiency\n\n  snapshot.forEach(document => {\n    const docRef = doc(db, \"buildings\", document.id);\n    batch.update(docRef, {\n      id: document.id\n    }); // Update in batch\n  });\n  await batch.commit(); // Execute all updates at once\n  console.log(\"✅ All buildings updated with 'id' field.\");\n};","map":{"version":3,"names":["db","collection","getDocs","writeBatch","doc","updateDocumentsWithId","buildingsRef","snapshot","batch","forEach","document","docRef","id","update","commit","console","log"],"sources":["C:/Users/Sophia/Downloads/Spring 2025/Capstone Project/CampusConnect_/CampusConnect/src/services/firestoreService.js"],"sourcesContent":["// This function `updateDocumentsWithId` updates all documents in the \"buildings\" collection of a Firestore database.\r\n// It adds an `id` field to each document, setting its value to the document's ID.\r\n// This is done using a batch operation for efficiency, which allows multiple updates to be committed at once.\r\nimport { db } from \"./firebase\"; \r\nimport { collection, getDocs, writeBatch, doc } from \"firebase/firestore\";\r\n\r\nexport const updateDocumentsWithId = async () => {\r\n    const buildingsRef = collection(db, \"buildings\"); \r\n    const snapshot = await getDocs(buildingsRef);\r\n\r\n    const batch = writeBatch(db); // Batch operation for efficiency\r\n\r\n    snapshot.forEach((document) => {\r\n        const docRef = doc(db, \"buildings\", document.id);\r\n        batch.update(docRef, { id: document.id }); // Update in batch\r\n    });\r\n\r\n    await batch.commit(); // Execute all updates at once\r\n    console.log(\"✅ All buildings updated with 'id' field.\");\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,YAAY;AAC/B,SAASC,UAAU,EAAEC,OAAO,EAAEC,UAAU,EAAEC,GAAG,QAAQ,oBAAoB;AAEzE,OAAO,MAAMC,qBAAqB,GAAG,MAAAA,CAAA,KAAY;EAC7C,MAAMC,YAAY,GAAGL,UAAU,CAACD,EAAE,EAAE,WAAW,CAAC;EAChD,MAAMO,QAAQ,GAAG,MAAML,OAAO,CAACI,YAAY,CAAC;EAE5C,MAAME,KAAK,GAAGL,UAAU,CAACH,EAAE,CAAC,CAAC,CAAC;;EAE9BO,QAAQ,CAACE,OAAO,CAAEC,QAAQ,IAAK;IAC3B,MAAMC,MAAM,GAAGP,GAAG,CAACJ,EAAE,EAAE,WAAW,EAAEU,QAAQ,CAACE,EAAE,CAAC;IAChDJ,KAAK,CAACK,MAAM,CAACF,MAAM,EAAE;MAAEC,EAAE,EAAEF,QAAQ,CAACE;IAAG,CAAC,CAAC,CAAC,CAAC;EAC/C,CAAC,CAAC;EAEF,MAAMJ,KAAK,CAACM,MAAM,CAAC,CAAC,CAAC,CAAC;EACtBC,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC;AAC3D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
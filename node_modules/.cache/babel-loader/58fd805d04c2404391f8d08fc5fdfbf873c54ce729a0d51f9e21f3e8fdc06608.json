{"ast":null,"code":"import { db } from \"./firebase\";\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\nexport const searchBuildings = async searchQuery => {\n  if (!searchQuery) return [];\n  const buildingsRef = collection(db, \"buildings\");\n  let results = [];\n  const keywordQuery = query(buildingsRef, where(\"search_keywords\", \"array-contains\", searchQuery.toLowerCase()));\n  const keywordSnapshot = await getDocs(keywordQuery);\n  keywordSnapshot.forEach(doc => {\n    results.push({\n      id: doc.id,\n      ...doc.data()\n    });\n  });\n  if (results.length === 0) {\n    const serviceQuery = query(buildingsRef, where(\"services_offered\", \"array-contains\", searchQuery));\n    const serviceSnapshot = await getDocs(serviceQuery);\n    serviceSnapshot.forEach(doc => {\n      results.push({\n        id: doc.id,\n        ...doc.data()\n      });\n    });\n  }\n  return results;\n};","map":{"version":3,"names":["db","collection","getDocs","query","where","searchBuildings","searchQuery","buildingsRef","results","keywordQuery","toLowerCase","keywordSnapshot","forEach","doc","push","id","data","length","serviceQuery","serviceSnapshot"],"sources":["C:/Users/Sophia/Downloads/Spring 2025/Capstone Project/CampusConnect_1/capstone-project-campusconnect-team/src/services/firestoreSearchService.js"],"sourcesContent":["import { db } from \"./firebase\";\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\n\nexport const searchBuildings = async (searchQuery) => {\n    if (!searchQuery) return [];\n\n    const buildingsRef = collection(db, \"buildings\");\n    let results = [];\n\n    const keywordQuery = query(\n        buildingsRef,\n        where(\"search_keywords\", \"array-contains\", searchQuery.toLowerCase())\n    );\n\n    const keywordSnapshot = await getDocs(keywordQuery);\n    keywordSnapshot.forEach((doc) => {\n        results.push({ id: doc.id, ...doc.data() });\n    });\n\n    if (results.length === 0) {\n        const serviceQuery = query(\n            buildingsRef,\n            where(\"services_offered\", \"array-contains\", searchQuery)\n        );\n\n        const serviceSnapshot = await getDocs(serviceQuery);\n        serviceSnapshot.forEach((doc) => {\n            results.push({ id: doc.id, ...doc.data() });\n        });\n    }\n\n    return results;\n};\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,YAAY;AAC/B,SAASC,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,KAAK,QAAQ,oBAAoB;AAEtE,OAAO,MAAMC,eAAe,GAAG,MAAOC,WAAW,IAAK;EAClD,IAAI,CAACA,WAAW,EAAE,OAAO,EAAE;EAE3B,MAAMC,YAAY,GAAGN,UAAU,CAACD,EAAE,EAAE,WAAW,CAAC;EAChD,IAAIQ,OAAO,GAAG,EAAE;EAEhB,MAAMC,YAAY,GAAGN,KAAK,CACtBI,YAAY,EACZH,KAAK,CAAC,iBAAiB,EAAE,gBAAgB,EAAEE,WAAW,CAACI,WAAW,CAAC,CAAC,CACxE,CAAC;EAED,MAAMC,eAAe,GAAG,MAAMT,OAAO,CAACO,YAAY,CAAC;EACnDE,eAAe,CAACC,OAAO,CAAEC,GAAG,IAAK;IAC7BL,OAAO,CAACM,IAAI,CAAC;MAAEC,EAAE,EAAEF,GAAG,CAACE,EAAE;MAAE,GAAGF,GAAG,CAACG,IAAI,CAAC;IAAE,CAAC,CAAC;EAC/C,CAAC,CAAC;EAEF,IAAIR,OAAO,CAACS,MAAM,KAAK,CAAC,EAAE;IACtB,MAAMC,YAAY,GAAGf,KAAK,CACtBI,YAAY,EACZH,KAAK,CAAC,kBAAkB,EAAE,gBAAgB,EAAEE,WAAW,CAC3D,CAAC;IAED,MAAMa,eAAe,GAAG,MAAMjB,OAAO,CAACgB,YAAY,CAAC;IACnDC,eAAe,CAACP,OAAO,CAAEC,GAAG,IAAK;MAC7BL,OAAO,CAACM,IAAI,CAAC;QAAEC,EAAE,EAAEF,GAAG,CAACE,EAAE;QAAE,GAAGF,GAAG,CAACG,IAAI,CAAC;MAAE,CAAC,CAAC;IAC/C,CAAC,CAAC;EACN;EAEA,OAAOR,OAAO;AAClB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}